/*! gitFeed.js (Github Activity Feed Display) | Copyright 2014-2015 Bronek Szulc | https://github.com/Bszulc/gitFeed.js */
var gitFeed=function(e){"use strict";var t,a,r={full:["January","February","March","April","May","June","July","August","September","October","November","December"],"short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},n=function(e,t){var a;for(a in t)e.hasOwnProperty(a)||(e[a]=t[a])},l=function(a){var r,n,l,o;return(r=sessionStorage.getItem("gitfeed_store"))?void a(JSON.parse(r)):(n="https://api.github.com/users/"+t.username+"/events/public",l="gitfeed_cb_"+Math.round(1e5*Math.random()),o=document.createElement("script"),o.src=n+(n.indexOf("?")>=0?"&":"?")+"callback="+l,document.body.appendChild(o),void(e[l]=function(t){if(delete e[l],document.body.removeChild(o),t.data.hasOwnProperty("message"))throw new Error(t.data.message);sessionStorage.setItem("gitfeed_store",JSON.stringify(t.data)),a(t.data)}))},o=function(e,a,r){var n,l,o,i,s,d,c;l="gitfeed-item-section",i="gitfeed-label",n=document.createElement("div"),n.className=a.itemClass+" "+l,t.hideLabels||(s=document.createTextNode(a.label),o=document.createElement("span"),o.className=i,o.appendChild(s),n.appendChild(o)),"link"===r?(a.url="https://github.com"+a.url.split("/repos")[1].replace(/\/commits\//,"/commit/"),d=document.createElement("a"),d.href=a.url,d.setAttribute("target","_blank")):d=document.createElement("span"),c=document.createTextNode(a.content),d.appendChild(c),n.appendChild(d),e.appendChild(n)},i=function(e){var n,l,i,s,d,c;for(s=document.createElement("ul"),l=e.length,i=t.results>l?l:t.results,n=0;i>n;n++)d=document.createElement("li"),d.className="gitfeed-item",c={},c.current=e[n],c.date=new Date(c.current.created_at),c.minutes=(c.date.getMinutes()<10?"0":"")+c.date.getMinutes(),c.hours=(c.date.getHours()<10?"0":"")+c.date.getHours(),c.day=(c.date.getDate()<10?"0":"")+c.date.getDate(),c.month=t.fullMonthNames?r.full[c.date.getMonth()]:r.short[c.date.getMonth()],c.year=c.date.getFullYear(),c.type=c.current.type.replace("Event",""),c.current.payload.commits&&o(d,{itemClass:"gitfeed-commit",label:"commit:",url:c.current.payload.commits[0].url,content:c.current.payload.commits[0].message},"link"),c.current.repo&&o(d,{itemClass:"gitfeed-repo",label:"repo:",url:c.current.repo.url,content:c.current.repo.name},"link"),o(d,{itemClass:"gitfeed-action",label:"action:",content:c.type}),o(d,{itemClass:"gitfeed-date",label:"date:",content:c.day+" "+c.month+", "+c.year+" - "+c.hours+":"+c.minutes}),s.appendChild(d);a.forEach(function(e){e.appendChild(s)})},s=function(e){var r,o;if(t=e||{},r={targetClass:"gitfeed",fullMonthNames:!1,hideLabels:!1,results:10},!t.hasOwnProperty("username"))throw new Error("gitFeed.js : please initialize the plugin with a valid Github username.");n(t,r),o=document.querySelectorAll("."+t.targetClass),a=Array.prototype.slice.call(o),l(i)};return s}(window);